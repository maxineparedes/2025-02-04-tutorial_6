---
title: "Tutorial 6: Refactoring R Code"
format: 
  html:
    toc: true
    output-file: index.html
execute:
    echo: false
    message: false
    warning: false
---

# Introduction

In this tutorial, you will refactor the code into separate scripts corresponding to each section. The dataset we will use comes from the `palmerpenguins` package, which contains measurements of penguins from three species.

## Load Libraries and Data

```{r}
library(tidyverse)
library(readr)

read_csv("data/clean_penguins.csv")
```

# Methods

In this section, we perform exploratory data analysis (EDA) and prepare the data for modeling.

```{r}
# Load summary statistics and visualization generated by scripts/02_methods.R
read_csv("results/tables/summary_table.csv")

# Load and display boxplot
knitr::include_graphics("results/images/bill_length_boxplot.png")

```

# Model

We will fit a classification model using `tidymodels` to predict the species of a penguin based on its physical characteristics.

# Results

We evaluate the performance of the model using the test dataset.

```{r}
# Load evaluation results from scripts/04_results.R
readRDS("results/models/conf_matrix.rds")
```

# Conclusion

In this tutorial, we:

- Loaded and cleaned the `palmerpenguins` dataset.
- Performed exploratory data analysis.
- Built a k-Nearest Neighbors classification model using `tidymodels`.
- Evaluated the model's performance.